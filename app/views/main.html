<h1>Effortlog <small>(beta)</small></h1>
<div ng-controller="EffortCtrl">

  <ul class="effortinput">
    <li>
      <div class="input-append">
        <span class="bootstrap-timepicker">
          <input b-timepicker id="start" type="text" class="el-timefield" ng-model="start"
            data-template="false" data-minute-step="1" data-show-inputs="false" data-show-meridian="false"
          >
        </span>
        <span class="add-on"><i class="icon-time"></i></span>
      </div>
    </li>
    <li>
      <div class="input-append">
        <span class="bootstrap-timepicker">
          <input b-timepicker id="end" type="text" class="el-timefield" ng-model="end"
            data-template="false" data-minute-step="1" data-show-inputs="false" data-show-meridian="false"
          >
        </span>
        <span class="add-on"><i class="icon-time"></i></span>
      </div> 
    </li>
    <li>
      <select id="goals" ui-select2="" data-placeholder="Select a goal" ng-model="goal">
        <option value=""></option>
        <option ng-repeat="goal in goals" value="{{goal.mnemonic}}">{{goal.name}}</option>
      </select>
    </li>
    <li>
      <select id="tasks" ui-select2="" data-placeholder="Select a task" ng-model="task">
        <option value=""></option>
        <option ng-repeat="task in tasks" value="{{task.mnemonic}}">{{task.name}}</option>
      </select>
    </li>
    <li>
      <input id="comment" type="text" ng-model="comment" placeholder="Comment" ui-reset>
    </li>
    <li>
      <button type="button" class="btn" ng-click="addEffort()">Add</button>
    </li>
  </ul>

  <table class="table table-striped">
    <tr>
      <th>Start</th>
      <th>End</th>
      <th>Goal</th>
      <th>Task</th>
      <th>Comment</th>
      <th></th>
    </tr>
    <tr ng-repeat="effort in efforts">
      <td>{{effort.start}}</td>
      <td>{{effort.end}}</td>
      <td><span class="label">{{effort.goal}}</span></td>
      <td><span class="label">{{effort.task}}</span></td>
      <td>{{effort.comment}}</td>
      <td>
        <div class="pull-right el-actionbuttons btn-group">
          <button class="btn btn-mini" data-toggle="modal" data-target="#editEffort" ng-click="editEffort(effort)">Edit</button>
          <button class="btn btn-mini btn-danger" ng-click="deleteEffort(effort.id)">Delete</button>
        </div>
      </td>
    </tr>
  </table>

  <p class="text-right">
    <small class="muted">
      Effortlog is a project developed by Sebastian Kusnier &copy; 2013
    </small>
  </p>

  <!-- Modal -->
  <div id="editEffort" class="modal hide fade" tabindex="-1" role="dialog">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">Ã—</button>
      <h3 id="myModalLabel">Edit effort</h3>
    </div>
    <div class="modal-body">
      <div>
        <div class="input-append">
          <span class="bootstrap-timepicker">
            <input b-timepicker type="text" class="el-timefield" ng-model="edit.start"
              data-template="false" data-minute-step="1" data-show-inputs="false" data-show-meridian="false"
            >
          </span>
          <span class="add-on"><i class="icon-time"></i></span>
        </div>
        <div class="input-append">
          <span class="bootstrap-timepicker">
            <input b-timepicker type="text" class="el-timefield" ng-model="edit.end"
              data-template="false" data-minute-step="1" data-show-inputs="false" data-show-meridian="false"
            >
          </span>
          <span class="add-on"><i class="icon-time"></i></span>
        </div> 
      </div>
      <div class="row-fluid">
        <div class="span6">
          <select class="span12" ui-select2="" ng-model="edit.goal">
            <option ng-repeat="goal in goals" value="{{goal.mnemonic}}">{{goal.name}}</option>
          </select>
        </div>
        <div class="span6">
          <select class="span12" ui-select2="" ng-model="edit.task">
            <option ng-repeat="task in tasks" value="{{task.mnemonic}}">{{task.name}}</option>
          </select>
        </div>
      </div>
      <div class="row-fluid">
        <textarea ng-model="edit.comment" class="span12" rows="3"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal">Close</button>
    </div>
  </div>
</div>
